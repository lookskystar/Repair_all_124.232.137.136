grant execute on dbms_sql to admin;
grant execute on dbms_lock to admin;

--建立日志表
CREATE TABLE "SYNCHRO_LOG"
  (
    "LOG_ID"   VARCHAR2(50 BYTE) NOT NULL ENABLE,
    "LOG_INFO" VARCHAR2(500 BYTE),
    "LOG_TIME" VARCHAR2(20 BYTE),
    "LOG_TYPE" NUMBER DEFAULT 0,
    "JWDCODE"  VARCHAR2(20 BYTE),
    CONSTRAINT "SYNCHRO_LOG_PK" PRIMARY KEY ("LOG_ID") USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT) TABLESPACE "USERS" ENABLE
  )
  SEGMENT CREATION IMMEDIATE PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING STORAGE
  (
    INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT
  )
  TABLESPACE "USERS" ;
COMMENT ON COLUMN "ADMIN"."SYNCHRO_LOG"."LOG_TYPE"
IS
  '类型：0正常1异常';


--建立dblink
CREATE DATABASE LINK DBLINK_LOCALHOST 
CONNECT TO ADMIN IDENTIFIED BY 
USING '(DESCRIPTION = 
            (ADDRESS_LIST = 
              (ADDRESS = (PROTOCOL = TCP)(HOST = 127.0.0.1)(PORT = 1521)) 
            ) 
            (CONNECT_DATA = 
              (SERVICE_NAME = CHANGSHA) 
            ) 
          )';
